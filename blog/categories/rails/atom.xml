<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Rails | 蒼い惑星の記録]]></title>
  <link href="http://blueplanet.github.com/blog/categories/rails/atom.xml" rel="self"/>
  <link href="http://blueplanet.github.com/"/>
  <updated>2013-02-15T22:42:29+09:00</updated>
  <id>http://blueplanet.github.com/</id>
  <author>
    <name><![CDATA[blueplanet]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ruby-Chinaのオンラインライブコーディングイベントに参加した]]></title>
    <link href="http://blueplanet.github.com/blog/2012/10/12/ruby-china-live-coding-by-knwang/"/>
    <updated>2012-10-12T21:24:00+09:00</updated>
    <id>http://blueplanet.github.com/blog/2012/10/12/ruby-china-live-coding-by-knwang</id>
    <content type="html"><![CDATA[<h2>きっかけ</h2>

<p><a href="http://ruby-china.org/">Ruby-China</a> は Ruby / Rails を勉強している中で、最近よくアクセスしているサイトの１つ。</p>

<p> 5日前に、 @knwang さんが、</p>

<blockquote><p><a href="http://ruby-china.org/">Ruby-China</a> に参加してから2ヶ月間経ちましたが、
やはり コミュニティにはどこから入門出来るかも分からない Rails の初心者が多いことに気付いました。
なので、10/11(木) 21:00 ~ 23:00 (北京時間)2時間で、オンラインのライブコーディングで
ゼロから簡単なアプリを作成するデモをやります。参加したい方はメアドを追記してください。</p></blockquote>

<p>という内容で投稿しました。</p>

<h2><a href="http://twitter.com/knwang">@knwang</a> さんは？</h2>

<p><a href="http://ruby-china.org/">Ruby-China</a> でたまたま目に見え、Rails のオンラインコース <a href="http://www.railstutors.com/#.UHgQy4VsKo8.twitter">Rails Tutors, Ruby on Rails online Courses</a> で起業しているようです。</p>

<!-- more -->


<h2>ライブコーディング</h2>

<h3>総評</h3>

<p>すごく良かった！！！参加の全員も、「今後もっとやりましょう！！」と盛り上がった</p>

<h3>良かったところ</h3>

<ul>
<li><a href="http://join.me/">join me</a> を利用して、スクリーンと音声を共有する形でした。このサービスはすごく良くて、100人以上の人を参加しているにもかかわらず、スクリーンと音声はほぼ完璧でした</li>
<li><a href="http://twitter.com/knwang">@knwang</a> のスキルは高すぎ！！！</li>
<li>そもそもの目的は、細かいソースの書き方ではなく、あるサービスを作ろうとする時、実際の考え方・実装の順番を示すことでした。実は、BDD の実践でした。要するに、テーブル構造とか、モデル関連とか、コントローラがいくつ必要だとか、全部じっくり考えてから実装するのではなく、<code>ユーザストリー -&gt; ビュー -&gt; コントローラ -&gt; モデル</code> という流れです。</li>
<li>2時間の制限があるため、実際はUIとテストをやってなかったんですが、全体の流れは見えせてもらって、一層よく理解できたという感じで、すごく刺激でした</li>
</ul>


<h3>ちょっと残念なところ</h3>

<ul>
<li>参加者は200人を超え、300近大勢いましたが、サービスの上限は250人で、40～50人しか利用した実績がなかった為、デモの品質を守りながら、順次に追記順番に従って参加者に案内する形でした。最後までも参加出来なかった方もいました</li>
<li>参加者はほぼ全員は、<a href="http://join.me">join me</a> を使った事がなかった為、使い方が分からないせいで、声を聞こえなかった方はいました</li>
<li>Webで参加すると声が聞こえないという事は、事前の案内メールでお知らせしてくれましたが、メール内容をよく読んでなかった方が何人がいて、声を聞こえなかった</li>
</ul>


<h2>後書き</h2>

<ul>
<li><a href="http://twitter.com/knwang">@knwang</a> の凄さをわかった為、すぐ <a href="http://www.railstutors.com/#.UHgQy4VsKo8.twitter">Rails Tutors, Ruby on Rails online Courses</a> のコースを参加しようと思ったら、メインはアメリカ向けなので、授業は英語になっています。英語は全くできないため、諦めました。</li>
<li>ちょうどつい最近、<a href="http://www.amazon.co.jp/dp/4798121932/">The RSpec Book</a>を読んだばかりで、写経はまだやってないところで、実際に BDD をやって頂いて、すごく勉強になりました</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Spork + GuardによるTDD]]></title>
    <link href="http://blueplanet.github.com/blog/2012/05/31/spork--guardtdd/"/>
    <updated>2012-05-31T00:00:00+09:00</updated>
    <id>http://blueplanet.github.com/blog/2012/05/31/spork--guardtdd</id>
    <content type="html"><![CDATA[<p><a href="http://bukt.org/events/31">Yokohamarb #20</a>に参加して、Railsの開発環境のお話しがありました。その中に、TDDツールについて、SporkとGuardが使われています。</p>

<p>Sporkはテストの事前ロードによりテストを高速化してくれるツールであるのは分かっていますが、Guardはわかっていなかったので、調べてみた</p>

<h2>Guard</h2>

<ul>
<li><code>Gemfile</code>を編集し、必要なgemを追加

<ul>
<li><code>gem guard-spork</code></li>
<li><code>gem guard-rspec</code></li>
</ul>
</li>
<li><code>bundle install</code>でインストール</li>
<li><code>bundle exec guard init spork</code></li>
<li><code>bundle exec guard init rspec</code></li>
<li><code>bundle exec guard</code>でプロセス起動すれば、<code>spork</code>＋<code>guard</code>が起動される</li>
</ul>


<p>これでテストの高速化かつ自動テスト環境が備えた</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Railsのform_tag]]></title>
    <link href="http://blueplanet.github.com/blog/2012/05/03/rails-form-tag/"/>
    <updated>2012-05-03T00:00:00+09:00</updated>
    <id>http://blueplanet.github.com/blog/2012/05/03/rails-form-tag</id>
    <content type="html"><![CDATA[<p>Railsでアプリを作る時、Modelがなく、単純にFormを作りたい場合、<code>form_tag</code>を使うべきという感じ</p>

<p>WEB開発は全くないので、書き方すらよくわかってない。</p>

<p>何かを作りたいとしても、あんまり進められない</p>

<pre><code>&lt;%= form_tag(:action =&gt; "disp") do -%&gt;
  Birthday&lt;br/&gt;
        &lt;%= select_date Date.today,
            :prefix =&gt; "birthday",
            :use_month_numbers =&gt; true,
            :start_year =&gt; 1980,
            :end_year =&gt; 2012,
            :discard_day =&gt; true %&gt;&lt;br/&gt;
        &lt;%= submit_tag "display", :class =&gt; "btn btn-primary" %&gt;
&lt;% end -%&gt;
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[「浜松Rails3道場　其の壱　プロジェクト作成〜Rouging編」の写経(1)]]></title>
    <link href="http://blueplanet.github.com/blog/2012/04/03/rails3dojo/"/>
    <updated>2012-04-03T07:30:00+09:00</updated>
    <id>http://blueplanet.github.com/blog/2012/04/03/rails3dojo</id>
    <content type="html"><![CDATA[<p><a href="http://www.slideshare.net/mackato/rails3dojo-routing">浜松Rails3道場　其の壱　プロジェクト作成〜Rouging編</a></p>

<ul>
<li><code>Ruby 1.9.2 @ Rails3.0.7</code>環境作成</li>
<li><code>pow</code>導入

<ul>
<li><code>curl get.pow.cx | sh</code>一発でOK</li>
<li><code>ln -s rails3dojo</code>で追加</li>
<li><code>open rails3dojo.dev</code>で確認できる！素晴らしい！</li>
</ul>
</li>
<li><code>spork</code>導入

<ul>
<li><code>config/environments/test.rb</code>の<code>config.cache_classes</code>を<code>false</code>に変更</li>
</ul>
</li>
<li>写経内容は割愛

<ul>
<li>スライドだけでは、ちょっと何かが足りないなーと感じた。</li>
<li><code>config/route.rb</code>修正した場合、sporkも再起動する必要があるらしい</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[rails3.2 on heroku]]></title>
    <link href="http://blueplanet.github.com/blog/2012/04/02/rails3-dot-2-on-heroku/"/>
    <updated>2012-04-02T07:29:00+09:00</updated>
    <id>http://blueplanet.github.com/blog/2012/04/02/rails3-dot-2-on-heroku</id>
    <content type="html"><![CDATA[<p>Rails 3.2のアプリをHerokuにデプロイする場合、ハマったことをメモ</p>

<h2>環境</h2>

<ul>
<li>Rails 3.2.2</li>
<li>ローカルDBはsqlite</li>
</ul>


<h2>手順</h2>

<ul>
<li>Railsアプリを作成

<ul>
<li><code>rails new myblog</code></li>
<li><code>cd myblog</code></li>
<li><code>git init</code></li>
<li><code>git add .</code></li>
<li><code>git ci -m 'init'</code></li>
</ul>
</li>
<li>Scaffold

<ul>
<li><code>rails g scaffold post title:string body:text</code></li>
<li><code>rake db:migrate</code></li>
<li><code>rm public/index.html</code></li>
<li><code>vi config/route.rb</code>

<ul>
<li><code>root :to =&gt; "pots#index"</code>を追加</li>
</ul>
</li>
<li><code>git rm public/index.html</code></li>
<li><code>git add .</code></li>
<li><code>git commit -m 'scaffold'</code></li>
</ul>
</li>
<li>Heroku

<ul>
<li><code>vi Gemfile</code>heroku側は下記を追加</li>
</ul>
</li>
</ul>


<p><div class="highlight"><pre><code class="ruby"><span class="n">group</span> <span class="ss">:production</span> <span class="k">do</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>

<span class="sr">&lt;pre&gt;&lt;code&gt; gem &#39;pg&#39;  </span>
<span class="sr">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;</span><span class="sr">/pre&gt;</span>

<span class="sr">&lt;p&gt;end</span>
</code></pre>
</div>
</p>

<ul>
<li><code>rake assets:precompile RAILS_ENV=production</code></li>
<li><code>git add .</code></li>
<li><code>git commit -m 'heroku'</code></li>
<li><code>heroku create</code></li>
<li><code>git push heroku master</code></li>
<li><code>heroku rake db:migrate</code></li>
<li><code>heroku open</code>で確認できるはず</li>
</ul>


<h2>問題</h2>

<ul>
<li><code>heroku rake db:migrate</code>のエラー

<ul>
<li><code>(pg is not part of the bundle. Add it to Gemfile.)</code></li>
<li>対策：Gemfileに下記を追加</li>
</ul>
</li>
</ul>


<p><div class="highlight"><pre><code class="ruby"><span class="n">group</span> <span class="ss">:production</span> <span class="k">do</span><span class="o">&lt;</span><span class="n">br</span><span class="o">/&gt;</span>
  <span class="n">gem</span> <span class="s1">&#39;pg&#39;</span><span class="o">&lt;</span><span class="n">br</span><span class="o">/&gt;</span>
<span class="k">end</span>
</code></pre>
</div>
</p>

<ul>
<li><code>git push heroku master</code>後、画面で確認すると、エラー画面になってる

<ul>
<li><code>heroku logs</code>で確認すると<code>ActionView::Template::Error (application.css isn't precompiled)</code>エラー</li>
<li>対策：<code>push</code>前に、<code>rake assets:precompile RAILS_ENV=production</code>を実施する</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
</feed>
