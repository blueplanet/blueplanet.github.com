<p>　引き続き</p>

<ul>
<li><p>before /after</p>

<ul>
<li>setup / teardown に相当</li>
<li>一度だけ実行したい場合、<code>:all</code>を指定する</li>
<li>各example毎実行したい場合、<code>:each</code>を指定する <strong>デフォルト</strong></li>
<li>複数指定もできる。実行順番は

<ul>
<li>before系は定義順</li>
<li>after系は定義順の逆順</li>
</ul>
</li>
</ul>
</li>
<li><p>should / should_notはRSpecによるObjectに対する拡張するメソッド</p></li>
<li>マッチャ

<ul>
<li>演算子マッチャ<code>&lt; &lt;= == === =~ &gt; &gt;=</code> <strong>否定のものはサポートされない、should_notを使うべき</strong></li>
<li><code>be_close change eql equal have(n).items have_at_least(n).items have_at_most(n).items have_exactly include match raise_error respond_to satisfy throw_symbol</code></li>
<li><code>be_XXX</code>　→　<code>XXX?</code></li>
<li><code>be_true / be_false</code>は<code>true? / false?</code>というメソッドがなくても使える</li>
<li><code>have_XXX</code> →　<code>has_XXX?</code></li>
<li>カスタムマッチャ定義できる</li>
</ul>
</li>
<li><code>violated</code>は実行を失敗させる</li>
<li>保留：テストまだ書いてない

<ul>
<li><code>it</code>にブロックを渡せない</li>
<li>pendingメソッドを使う</li>
</ul>
</li>
</ul>


<h3>ようやく <code>RSpec on Rails</code></h3>

<ul>
<li>今更気づいたのですが、記事のバージョンは結構古い。よって、コマンドとかいろいろ変わっている

<ul>
<li>インストール：Gemfileに<code>gem 'rspec'``gem 'rspec-rails'</code>追記してから、<code>bundle install</code>実行すればOK</li>
<li>初期化は<code>rails g rspec:install</code></li>
<li><code>rake spec</code>の補完一覧
<img src="https://lh6.googleusercontent.com/-gpjoO4UhGbE/T2s9WOraeTI/AAAAAAAAAgI/FO8ATshJGwU/s800/120322-0004.png" alt="image" /></li>
<li><code>TODO:</code>モックとスタブの区別はわからない</li>
<li>フォルダ構造もシンプルになっているよう。少なくともデフォルトは作ってない</li>
<li><code>script/generate rspec_model</code>を実行する必要がなくなり、上記の<code>rails g rspec:install</code>を実行しておけば、普通に <code>rails g …</code>を実行する時、<code>test</code>系ではなく、<code>rspec</code>系のテストクラスを作ってくれる</li>
<li>ruby 1.9以降を使う+日本語がある場合、例の<code>encoding=utf-8</code>追記する必要</li>
</ul>
</li>
</ul>


<hr />

<p>複数記事に分けるので、とりあえずここまで</p>
